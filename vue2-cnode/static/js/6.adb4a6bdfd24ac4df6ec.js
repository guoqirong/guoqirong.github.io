(window["webpackJsonp_vue-cnode"]=window["webpackJsonp_vue-cnode"]||[]).push([[6],{C6ZD:function(t,e,o){"use strict";o.r(e);var a={data:function(){return{loadData:!1,form:{token:""},rules:{token:[{required:!0,message:"请输入token校验",trigger:"blur"}]}}},mounted:function(){localStorage.getItem("token")&&this.$router.go(-1)},methods:{onSubmit:function(){var t=this;this.loadData=!0,this.$refs.form.validate((function(e){if(!e)return!1;t.$httpRequest({url:t.$httpRequest.adornUrl("/api/v1/accesstoken"),method:"post",data:{accesstoken:t.form.token}}).then((function(e){var o=e.data;t.loadData=!1,localStorage.setItem("loginname",o.loginname),localStorage.setItem("token",t.form.token),t.$store.commit("user/updateToken",t.form.token),location.reload()})).catch((function(e){t.loadData=!1,t.$message.error("登录失败"),console.error(e)}))}))},onCancel:function(){this.$router.go(-1)}}},n=o("JFUb"),r=Object(n.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-box"},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[o("span",[t._v("登录")])]),t._v(" "),o("span",[o("el-form",{ref:"form",staticClass:"login-form",attrs:{model:t.form,rules:t.rules,"label-width":"0px"}},[o("el-form-item",{attrs:{prop:"token"}},[o("el-input",{attrs:{placeholder:"accesstoken 登录校验",clearable:""},model:{value:t.form.token,callback:function(e){t.$set(t.form,"token",e)},expression:"form.token"}})],1),t._v(" "),o("el-form-item",[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:12}},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:t.loadData},on:{click:t.onSubmit}},[t._v("登录")])],1),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loadData},on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)],1)],1)])],1)}),[],!1,(function(t){o("okL0")}),null,null);e.default=r.exports},okL0:function(t,e,o){}}]);