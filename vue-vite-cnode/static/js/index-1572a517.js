import{l as z,n as A,k as F,o as H,m as O}from"./element-plus-978032fc.js";import{g as j,f as q,a as P}from"./index-e80b1955.js";import{d as V,o as e,c as i,a as c,R as p,W as f,O as x,X as I,U as o,S as E,a2 as R,u as B,r as S,w as b,a7 as C,P as M}from"./@vue-a3b8ecb2.js";const U={class:"user-img"},W={key:0,class:"reply-count"},X={class:"count-of-replies",title:"\u56DE\u590D\u6570"},G=c("span",null,"/",-1),J={class:"count-of-visits",title:"\u70B9\u51FB\u6570"},K=["title","innerHTML"],Q={key:2,class:"created-time"},Y=V({props:{itemData:Object,isSimpleItem:{type:Boolean,default:!1}},setup(t,{expose:_}){return _({name:"ListItem"}),(k,l)=>{var u,y,a,h,s,D,v,n,L,w,N,T,$;const m=z,r=A;return e(),i("div",{class:"item-body",onClick:l[0]||(l[0]=g=>{var d;return k.$emit("seeDetail",(d=t.itemData)==null?void 0:d.id)})},[c("div",U,[(e(),p(m,{shape:"square",size:30,src:(u=t.itemData)==null?void 0:u.author.avatar_url,key:(y=t.itemData)==null?void 0:y.author.avatar_url,alt:(a=t.itemData)==null?void 0:a.author.loginname},null,8,["src","alt"]))]),t.isSimpleItem?x("",!0):(e(),i("div",W,[c("span",X,f((h=t.itemData)==null?void 0:h.reply_count),1),G,c("span",J,f((s=t.itemData)==null?void 0:s.visit_count),1)])),t.isSimpleItem?x("",!0):(e(),i("div",{key:1,class:"topic-tab",style:I({width:!((D=t.itemData)!=null&&D.top)&&((v=t.itemData)==null?void 0:v.tab)==="dev"?"":"42px"})},[o(r,{effect:"dark",type:(n=t.itemData)!=null&&n.top?"danger":"success"},{default:E(()=>{var g,d;return[R(f(B(j)((g=t.itemData)==null?void 0:g.top,(d=t.itemData)==null?void 0:d.tab)),1)]}),_:1},8,["type"])],4)),c("div",{class:"topic-title",title:(L=t.itemData)==null?void 0:L.title,style:I({width:t.isSimpleItem?"calc(100% - 90px)":!((w=t.itemData)!=null&&w.top)&&((N=t.itemData)==null?void 0:N.tab)==="dev"?"":"calc(100% - 40px - 42px - 90px - 90px)"}),innerHTML:(T=t.itemData)==null?void 0:T.title},null,12,K),t.isSimpleItem?x("",!0):(e(),i("div",Q,f(B(q)(($=t.itemData)==null?void 0:$.create_at,"yyyy-MM-dd")),1))])}}});const Z={class:"list-skeleton-item"},tt={key:0,class:"list-body"},it=V({props:{listData:{typeof:Array,default:[]},isLoading:{type:Boolean,default:!1},limit:{type:Number,default:20},isSimpleItem:{type:Boolean,default:!1}},emits:["seeDetail"],setup(t,{expose:_,emit:k}){const l=t;_({name:"ListComp"});const m=S([]);b(()=>l.listData,a=>{m.value=a});const r=S();b(()=>l.isLoading,a=>{r.value=a});const u=S(l.limit);b(()=>l.limit,a=>{u.value=a});const y=a=>{k("seeDetail",a)};return(a,h)=>{const s=F,D=H,v=O;return e(),p(v,{loading:r.value,animated:""},{template:E(()=>[(e(!0),i(M,null,C(u.value,n=>(e(),i("div",{key:n},[c("div",Z,[o(s,{class:"skeleton-user-img"}),o(s,{class:"skeleton-reply-count"}),o(s,{class:"skeleton-topic-tab"}),o(s,{style:I({width:`calc(${B(P)(30,100)}% - 280px)`})},null,8,["style"]),o(s,{class:"skeleton-created-time"})])]))),128))]),default:E(()=>[m.value.length?(e(),i("div",tt,[(e(!0),i(M,null,C(m.value,n=>(e(),p(Y,{key:n.id,itemData:n,isSimpleItem:t.isSimpleItem,onSeeDetail:y},null,8,["itemData","isSimpleItem"]))),128))])):(e(),p(D,{key:1,description:"\u6682\u65E0\u6570\u636E"}))]),_:1},8,["loading"])}}});export{it as _};
