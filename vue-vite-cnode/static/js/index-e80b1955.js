var H=Object.defineProperty;var O=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var w=(t,e,o)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,C=(t,e)=>{for(var o in e||(e={}))z.call(e,o)&&w(t,o,e[o]);if(O)for(var o of O(e))G.call(e,o)&&w(t,o,e[o]);return t};import{r as x,d as $,y as U,w as I,o as d,c as D,a as _,u as g,U as p,S as c,R,O as b,a2 as v,b as W,Z as Y,al as Z}from"./@vue-a3b8ecb2.js";import{E as K,a as J,b as Q,c as X,z as ee,d as te,e as oe}from"./element-plus-978032fc.js";import{c as re,u as M}from"./vuex-a79d8c7c.js";import{c as ne,a as se,u as ae}from"./vue-router-9467f4ca.js";import{a as ue}from"./axios-eec2155c.js";import{m as ie}from"./mitt-dab1f1cb.js";import{y as ce}from"./@element-plus-ed130b8d.js";import"./@vueuse-972b0b46.js";import"./@ctrl-eb0b847c.js";import"./lodash-es-8dd21e31.js";import"./async-validator-1193b133.js";import"./@popperjs-892fd7f5.js";const le=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}};le();const N=()=>{const t=x(!1),e=r=>"https://cnodejs.org"+r,o=ue.create({timeout:1e3*60,withCredentials:!1,headers:{"Content-Type":"application/json; charset=utf-8"}});return o.interceptors.request.use(r=>(t.value=!0,r)),o.interceptors.response.use(r=>(r&&r.status===403?console.error("\u767B\u5F55\u5931\u8D25"):r&&r.status!==200&&console.error("\u8BF7\u6C42\u5931\u8D25"),t.value=!1,r),r=>(t.value=!1,Promise.reject(r))),{isLoading:t,adornUrl:e,httpRequest:o}},de=[{key:"all",name:"\u5168\u90E8"},{key:"good",name:"\u7CBE\u534E"},{key:"share",name:"\u5206\u4EAB"},{key:"ask",name:"\u95EE\u7B54"},{key:"job",name:"\u62DB\u8058"},{key:"dev",name:"\u5BA2\u6237\u7AEF\u6D4B\u8BD5"}],pe="modulepreload",V={},_e="/vue-vite-cnode/",m=function(e,o){return!o||o.length===0?e():Promise.all(o.map(r=>{if(r=`${_e}${r}`,r in V)return;V[r]=!0;const n=r.endsWith(".css"),s=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":pe,n||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),n)return new Promise((E,i)=>{a.addEventListener("load",E),a.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};var me={namespaced:!0,state:{entryUrl:""},mutations:{updateEntryUrl(t,e){t.entryUrl=e}}},ge={namespaced:!0,state:{token:"",simpleUserData:{},userData:{},isLoading:!1},mutations:{updateToken(t,e){t.token=e},updateSimpleUserData(t,e){t.simpleUserData=e},updateUserData(t,e){t.userData=e},updateLoading(t,e){t.isLoading=e}}},P=re({modules:{grobal:me,user:ge}});let l="";const fe=[{path:l+"/",name:"index",component:()=>m(()=>import("./index-6afb7d45.js"),["static/js/index-6afb7d45.js","static/css/index-0df67971.css","static/js/index-5ba76d30.js","static/css/index-7e0276fb.css","static/js/@vue-a3b8ecb2.js","static/js/element-plus-978032fc.js","static/css/element-plus-cda3f1f7.css","static/js/@vueuse-972b0b46.js","static/js/@element-plus-ed130b8d.js","static/js/@ctrl-eb0b847c.js","static/js/lodash-es-8dd21e31.js","static/js/async-validator-1193b133.js","static/js/@popperjs-892fd7f5.js","static/js/axios-eec2155c.js","static/js/vue-router-9467f4ca.js","static/js/vuex-a79d8c7c.js","static/js/index-1572a517.js","static/css/index-bea68ba5.css","static/js/mitt-dab1f1cb.js"])},{path:l+"/login",name:"login",component:()=>m(()=>import("./index-8cc421e5.js"),["static/js/index-8cc421e5.js","static/css/index-b13ce535.css","static/js/element-plus-978032fc.js","static/css/element-plus-cda3f1f7.css","static/js/@vue-a3b8ecb2.js","static/js/@vueuse-972b0b46.js","static/js/@element-plus-ed130b8d.js","static/js/@ctrl-eb0b847c.js","static/js/lodash-es-8dd21e31.js","static/js/async-validator-1193b133.js","static/js/@popperjs-892fd7f5.js","static/js/axios-eec2155c.js","static/js/vue-router-9467f4ca.js","static/js/vuex-a79d8c7c.js","static/js/mitt-dab1f1cb.js"])},{path:l+"/detail",name:"detail",component:()=>m(()=>import("./index-13fa662d.js"),["static/js/index-13fa662d.js","static/css/index-968c8e3d.css","static/js/element-plus-978032fc.js","static/css/element-plus-cda3f1f7.css","static/js/@vue-a3b8ecb2.js","static/js/@vueuse-972b0b46.js","static/js/@element-plus-ed130b8d.js","static/js/@ctrl-eb0b847c.js","static/js/lodash-es-8dd21e31.js","static/js/async-validator-1193b133.js","static/js/@popperjs-892fd7f5.js","static/js/axios-eec2155c.js","static/js/index-5ba76d30.js","static/css/index-7e0276fb.css","static/js/vue-router-9467f4ca.js","static/js/vuex-a79d8c7c.js","static/js/@tinymce-d9c43e5a.js","static/js/mitt-dab1f1cb.js"])},{path:l+"/add-topic",name:"addTopic",meta:{requiredLogin:!0},component:()=>m(()=>import("./index-b595a20d.js"),["static/js/index-b595a20d.js","static/css/index-1a50ff44.css","static/js/element-plus-978032fc.js","static/css/element-plus-cda3f1f7.css","static/js/@vue-a3b8ecb2.js","static/js/@vueuse-972b0b46.js","static/js/@element-plus-ed130b8d.js","static/js/@ctrl-eb0b847c.js","static/js/lodash-es-8dd21e31.js","static/js/async-validator-1193b133.js","static/js/@popperjs-892fd7f5.js","static/js/axios-eec2155c.js","static/js/index-5ba76d30.js","static/css/index-7e0276fb.css","static/js/vue-router-9467f4ca.js","static/js/vuex-a79d8c7c.js","static/js/@tinymce-d9c43e5a.js","static/js/mitt-dab1f1cb.js"])},{path:l+"/edit-topic/:id",name:"editTopic",meta:{requiredLogin:!0},component:()=>m(()=>import("./index-b595a20d.js"),["static/js/index-b595a20d.js","static/css/index-1a50ff44.css","static/js/element-plus-978032fc.js","static/css/element-plus-cda3f1f7.css","static/js/@vue-a3b8ecb2.js","static/js/@vueuse-972b0b46.js","static/js/@element-plus-ed130b8d.js","static/js/@ctrl-eb0b847c.js","static/js/lodash-es-8dd21e31.js","static/js/async-validator-1193b133.js","static/js/@popperjs-892fd7f5.js","static/js/axios-eec2155c.js","static/js/index-5ba76d30.js","static/css/index-7e0276fb.css","static/js/vue-router-9467f4ca.js","static/js/vuex-a79d8c7c.js","static/js/@tinymce-d9c43e5a.js","static/js/mitt-dab1f1cb.js"])},{path:l+"/message",name:"message",meta:{requiredLogin:!0},component:()=>m(()=>import("./index-6fdf241f.js"),["static/js/index-6fdf241f.js","static/css/index-8cd9f4a6.css","static/js/index-5ba76d30.js","static/css/index-7e0276fb.css","static/js/@vue-a3b8ecb2.js","static/js/element-plus-978032fc.js","static/css/element-plus-cda3f1f7.css","static/js/@vueuse-972b0b46.js","static/js/@element-plus-ed130b8d.js","static/js/@ctrl-eb0b847c.js","static/js/lodash-es-8dd21e31.js","static/js/async-validator-1193b133.js","static/js/@popperjs-892fd7f5.js","static/js/axios-eec2155c.js","static/js/vue-router-9467f4ca.js","static/js/vuex-a79d8c7c.js","static/js/mitt-dab1f1cb.js"])},{path:l+"/collect",name:"collect",meta:{requiredLogin:!0},component:()=>m(()=>import("./index-3a80ac7a.js"),["static/js/index-3a80ac7a.js","static/css/index-960b9e23.css","static/js/element-plus-978032fc.js","static/css/element-plus-cda3f1f7.css","static/js/@vue-a3b8ecb2.js","static/js/@vueuse-972b0b46.js","static/js/@element-plus-ed130b8d.js","static/js/@ctrl-eb0b847c.js","static/js/lodash-es-8dd21e31.js","static/js/async-validator-1193b133.js","static/js/@popperjs-892fd7f5.js","static/js/axios-eec2155c.js","static/js/index-5ba76d30.js","static/css/index-7e0276fb.css","static/js/vue-router-9467f4ca.js","static/js/vuex-a79d8c7c.js","static/js/index-1572a517.js","static/css/index-bea68ba5.css","static/js/mitt-dab1f1cb.js"])},{path:l+"/user/:userName",name:"userDetail",meta:{requiredLogin:!0},component:()=>m(()=>import("./index-634788b3.js"),["static/js/index-634788b3.js","static/css/index-d60539d1.css","static/js/index-5ba76d30.js","static/css/index-7e0276fb.css","static/js/@vue-a3b8ecb2.js","static/js/element-plus-978032fc.js","static/css/element-plus-cda3f1f7.css","static/js/@vueuse-972b0b46.js","static/js/@element-plus-ed130b8d.js","static/js/@ctrl-eb0b847c.js","static/js/lodash-es-8dd21e31.js","static/js/async-validator-1193b133.js","static/js/@popperjs-892fd7f5.js","static/js/axios-eec2155c.js","static/js/vue-router-9467f4ca.js","static/js/vuex-a79d8c7c.js","static/js/index-1572a517.js","static/css/index-bea68ba5.css","static/js/mitt-dab1f1cb.js"])}],q=ne({history:se("/vue-vite-cnode"),routes:fe});q.beforeEach((t,e,o)=>{t.name==="login"&&!!P.state.user.token?o("/"):t.meta.requiredLogin&&!P.state.user.token?o({name:"login"}):o()});const tt=(t,e)=>{const o=new Date(t);if(t!==""&&!o.getFullYear())return console.error("\u65F6\u95F4\u683C\u5F0F\u9519\u8BEF\uFF01"),"";/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(o.getFullYear()+"").substr(4-RegExp.$1.length)));const r={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds()};for(const n in r)if(new RegExp(`(${n})`).test(e)){const s=r[n]+"";e=e.replace(RegExp.$1,RegExp.$1.length===1?s:he(s))}return e},he=t=>("00"+t).substr(t.length),ot=(t,e)=>{var o,r;return t?"\u7F6E\u9876":(r=(o=de.find(n=>n.key===e))==null?void 0:o.name)!=null?r:"\u672A\u77E5"},rt=(t,e)=>t!==void 0&&e!==void 0?parseInt(String(Math.random()*(e-t+1)+t),10):t!==void 0?parseInt(String(Math.random()*t+1),10):0,nt=t=>{let e=t.replace(/“|”/g,'"');return e=e.replace(/href="+(\/.?user.?\/|user.?\/)/g,'href="./#/user/'),e=e.replace(/&lt;/g,"<"),e.replace(/&gt;/g,">")},F=t=>{const{path:e}=typeof t=="string"?{path:void 0}:C({path:void 0},t),o=typeof t=="string"?l+t:C(C({},t),e?{path:l+e}:{});q.push(o)},ve=ie(),Ee=()=>[ve];const ke={class:"navbar"},ye={class:"navbar-content"},De=["src"],Le={class:"navbar-link navbar-noright-link"},be=v("\u9996\u9875"),Ce={key:0},Fe=v("\u6D88\u606F"),xe=v("\u6D88\u606F"),Re={key:1},Ae=v("\u6536\u85CF"),Te=v("GitHub\u4ED3\u5E93"),Be={key:2},Se=v("\u767B\u5F55"),Ue={key:3},Ie=v("\u9000\u51FA"),Pe=$({setup(t,{expose:e}){e({name:"HeaderComp"});const{state:o,commit:r}=M(),n=ae(),{adornUrl:s,httpRequest:a}=N(),E=U(()=>new URL("/vue-vite-cnode/static/svg/logo-5acbd731.svg",self.location).href),i=U(()=>o.user.token),k=()=>{n.path!=="/index"&&F({path:"/"})},[A]=Ee();A.on("read-msg",()=>{u()});const L=x(0);I(i,y=>{y?u():r("user/updateUserData",{})});const u=()=>{a({url:s("/api/v1/message/count"),method:"get",params:{accesstoken:i.value||""}}).then(({data:y})=>{L.value=y.data}).catch(y=>{console.error(y)})};i.value&&u();const f=()=>{n.path!=="/message"&&F({path:"/message"})},T=()=>{n.path!=="/collect"&&F({path:"/collect"})},B=()=>{n.path!=="/login"&&F({path:"/login"})},S=()=>{localStorage.removeItem("loginname"),localStorage.removeItem("token"),r("user/updateToken",""),r("user/updateSimpleUserData",{}),k()};return(y,Me)=>{const h=K,j=J;return d(),D("div",ke,[_("div",ye,[_("span",{class:"navbar-logo",onClick:k},[_("img",{src:g(E)},null,8,De)]),_("span",Le,[_("span",null,[p(h,{underline:!1,onClick:k},{default:c(()=>[be]),_:1})]),g(i)!==""?(d(),D("span",Ce,[L.value>0?(d(),R(j,{key:0,value:L.value,class:"badge-item"},{default:c(()=>[p(h,{underline:!1,onClick:f},{default:c(()=>[Fe]),_:1})]),_:1},8,["value"])):(d(),R(h,{key:1,underline:!1,onClick:f},{default:c(()=>[xe]),_:1}))])):b("",!0),g(i)!==""?(d(),D("span",Re,[p(h,{underline:!1,onClick:T},{default:c(()=>[Ae]),_:1})])):b("",!0),_("span",null,[p(h,{underline:!1,href:"https://github.com/guoqirong/vue-vite-cnode",target:"_blank"},{default:c(()=>[Te]),_:1})]),g(i)===""?(d(),D("span",Be,[p(h,{underline:!1,onClick:B},{default:c(()=>[Se]),_:1})])):b("",!0),g(i)!==""?(d(),D("span",Ue,[p(h,{underline:!1,onClick:S},{default:c(()=>[Ie]),_:1})])):b("",!0)])])])}}});const $e={class:"body-footer"},qe=_("div",{class:"footer-content"},[_("div",null,"CNode \u793E\u533A\u4E3A\u56FD\u5185\u6700\u4E13\u4E1A\u7684 Node.js \u5F00\u6E90\u6280\u672F\u793E\u533A\uFF0C\u81F4\u529B\u4E8E Node.js \u7684\u6280\u672F\u7814\u7A76\u3002"),_("div",null,"CNode \u793E\u533A\u7248\u6743\u5F52xxxxxx\u6240\u6709")],-1),Oe=[qe],we=$({setup(t,{expose:e}){return e({name:"FooterComp"}),(o,r)=>(d(),D("div",$e,Oe))}});const Ve=$({setup(t){const{isLoading:e,adornUrl:o,httpRequest:r}=N(),{state:n,commit:s}=M(),a=U(()=>n.user.token);I(a,u=>{u&&E(n.user.simpleUserData.loginname)}),I(e,u=>{s("user/updateLoading",u)});const E=u=>{r({url:o(`/api/v1/user/${u}`),method:"get"}).then(({data:f})=>{s("user/updateUserData",f.data)}).catch(f=>{te.error("\u8BF7\u6C42\u5931\u8D25"),console.error(f)})};a.value&&E(n.user.simpleUserData.loginname),W(()=>{s("user/updateSimpleUserData",{loginname:localStorage.getItem("loginname")||""}),s("user/updateToken",localStorage.getItem("token")||"")});const i=x(0),k=x(),A=u=>{i.value=u.scrollTop},L=()=>{var u;(u=k.value)==null||u.setScrollTop(0)};return(u,f)=>{const T=Y("router-view"),B=oe,S=Q;return d(),R(S,{locale:g(ee)},{default:c(()=>[p(g(X),{ref_key:"scrollbarRef",ref:k,height:"100vh",onScroll:A},{default:c(()=>[p(Pe),p(T),p(we),i.value>200?(d(),R(B,{key:0,class:"back-top",size:"large",icon:g(ce),circle:"",onClick:L},null,8,["icon"])):b("",!0)]),_:1},512)]),_:1},8,["locale"])}}});Z(Ve).use(P).use(q).mount("#app");export{rt as a,Ee as b,nt as c,tt as f,ot as g,F as r,de as t,N as u};
