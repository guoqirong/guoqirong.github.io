import{C as E,U as S,_ as P}from"./index-de5dcdad.js";import{f as L,g as $,h as z,i as q,e as B,d as U}from"./element-plus-087faedc.js";import{_ as V,u as R,t as w,r as k}from"./index-6ed5d7bd.js";import{L as F}from"./index-1a292921.js";import{u as j}from"./vue-router-9467f4ca.js";import{d as H,r as d,c as N,U as s,S as r,Z as f,o as b,P as I,a7 as M,a2 as Q,R as Z}from"./@vue-a3b8ecb2.js";import"./vuex-a79d8c7c.js";import"./@vueuse-972b0b46.js";import"./@element-plus-2403d92f.js";import"./@ctrl-eb0b847c.js";import"./lodash-es-8dd21e31.js";import"./async-validator-1193b133.js";import"./@popperjs-892fd7f5.js";import"./axios-eec2155c.js";import"./vite-plugin-qiankun-075a3e44.js";import"./mitt-dab1f1cb.js";const A=H({components:{ElCard:L,ElTabs:$,ElTabPane:z,ListComp:F,ClientQrCodeComp:E,UserInfoComp:S},setup(){const e=j(),{isLoading:p,adornUrl:y,httpRequest:T}=R(),_=d([]),l=a=>{T({url:y("/api/v1/topics"),method:"get",params:{page:t.value??1,tab:o.value??"all",limit:n.value??20,mdrender:!1,...a}}).then(m=>{m?.data?.success&&(_.value=m?.data.data??[])}).catch(m=>{B.error("\u8BF7\u6C42\u5931\u8D25"),console.error(m)})},o=d("all"),g=a=>{t.value=1,o.value=a.paneName,l({tab:a.paneName})},C=()=>{k({path:"/add-topic",query:{listParm:`${o.value}|${t.value}|${n.value}`}})},t=d(1),n=d(20),v=a=>{t.value=a,l({page:a})},h=a=>{t.value=1,n.value=a,l({limit:a})},[c,u,i]=String(e.params.listParm).split("|")??[];return c&&u&&i&&(o.value=c,t.value=Number(u),n.value=Number(i)),l({}),{topicTypeList:w,isLoading:p,listData:_,activeTypeName:o,handleTabClick:g,addTopic:C,seeDetail:a=>{k({path:"/detail",query:{id:a,listParm:`${o.value}|${t.value}|${n.value}`}})},page:t,limit:n,handleCurrentChange:v,handleSizeChange:h}}}),G={class:"content-body"},J=Q("\u53D1\u5E03\u8BDD\u9898");function K(e,p,y,T,_,l){const o=U,g=z,C=f("list-comp"),t=q,n=$,v=L,h=f("user-info-comp"),c=f("client-qr-code-comp"),u=P;return b(),N("div",G,[s(u,null,{right:r(()=>[s(h),s(c)]),default:r(()=>[s(v,{class:"box-card"},{default:r(()=>[s(o,{class:"add-topic-btn",type:"primary",onClick:e.addTopic},{default:r(()=>[J]),_:1},8,["onClick"]),s(n,{modelValue:e.activeTypeName,"onUpdate:modelValue":p[0]||(p[0]=i=>e.activeTypeName=i),class:"topic-tabs",onTabClick:e.handleTabClick},{default:r(()=>[(b(!0),N(I,null,M(e.topicTypeList,(i,D)=>(b(),Z(g,{key:D,label:i.name,name:i.key},null,8,["label","name"]))),128)),s(C,{isLoading:e.isLoading,limit:e.limit,listData:e.listData,onSeeDetail:e.seeDetail},null,8,["isLoading","limit","listData","onSeeDetail"]),s(t,{class:"pagination",onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,"current-page":e.page,"pager-count":5,"page-sizes":[10,20,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:400},null,8,["onSizeChange","onCurrentChange","current-page","page-size"])]),_:1},8,["modelValue","onTabClick"])]),_:1})]),_:1})])}var ue=V(A,[["render",K]]);export{ue as default};
