!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["react-cnode-main"]=t():e["react-cnode-main"]=t()}(window,(function(){return(window["webpackJsonp_react-cnode"]=window["webpackJsonp_react-cnode"]||[]).push([[4],{101:function(e,t,n){window.__POWERED_BY_QIANKUN__&&(n.p=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__)},110:function(e,t,n){},13:function(e,t,n){"use strict";function a(e,t){var n=new Date(e);/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var r in a)if(new RegExp("(".concat(r,")")).test(t)){var c=a[r]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?c:o(c))}return t}function o(e){return("00"+e).substr(e.length)}function r(e,t){localStorage.setItem(e,t)}function c(e){return localStorage.getItem(e)}n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c}))},14:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var a="SETLISTLOADING",o="SETDETAILLOADING",r="SETCOLLECTLISTLOADING",c="CHANGETABITEM",i="GETTOPICDETAIL",u="COLLECTTOPIC",s="DECOLLECTTOPIC",l="GETCOLLECTLIST"},187:function(e,t,n){},19:function(e,t,n){"use strict";n(115);var a=n(36),o=n(86),r=n.n(o).a.create({timeout:6e4,withCredentials:!1,headers:{"Content-Type":"application/json; charset=utf-8"}});r.interceptors.response.use((function(e){return e.data}),(function(e){void 0!==e&&"ECONNABORTED"!==e.code||a.a.warning("\u670d\u52a1\u8bf7\u6c42\u8d85\u65f6");var t=e.response;return 401===t.status?a.a.error(t.data.error_msg||"\u767b\u5f55\u5931\u8d25"):200!==t.status&&a.a.error(t.data.error_msg||"\u8bf7\u6c42\u5931\u8d25"),Promise.reject(e)})),t.a=r},194:function(e,t,n){e.exports=n.p+"static/media/logo.e2b40b75.svg"},195:function(e,t,n){"use strict";n.r(t),n.d(t,"bootstrap",(function(){return F})),n.d(t,"mount",(function(){return Q})),n.d(t,"unmount",(function(){return $}));var a=n(48),o=n.n(a),r=n(83),c=(n(101),n(0)),i=n.n(c),u=n(12),s=n.n(u),l=n(33),d=n(21),f=n(85),p=n(1),m=n(14),g={listLoading:!1,detailLoading:!1,collectListLoading:!1,tabList:[{key:"all",tab:"\u5168\u90e8"},{key:"good",tab:"\u7cbe\u534e"},{key:"share",tab:"\u5206\u4eab"},{key:"ask",tab:"\u95ee\u7b54"},{key:"job",tab:"\u62db\u8058"},{key:"dev",tab:"\u5ba2\u6237\u7aef\u6d4b\u8bd5"}],changetab:{key:"all",tab:"\u5168\u90e8"},searchData:{page:1,tab:"all",limit:20,mdrender:!0},dataList:[],dataDetail:{},collectList:[]};var b=n(5),h={loginLoading:!1,userinfoLoading:!1,messageListLoading:!1,token:"",simpleUserInfo:{},userInfo:{},messageCount:0,messageList:{}};var E=Object(d.c)({index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.h:return Object(p.a)(Object(p.a)({},e),{},{listLoading:t.listLoading});case m.g:return Object(p.a)(Object(p.a)({},e),{},{detailLoading:t.detailLoading});case m.f:return Object(p.a)(Object(p.a)({},e),{},{collectListLoading:t.collectListLoading});case m.a:return Object(p.a)(Object(p.a)({},e),{},{listLoading:!1,changetab:t.data,searchData:t.searchData,dataList:t.dataList});case m.e:return Object(p.a)(Object(p.a)({},e),{},{detailLoading:!1,dataDetail:t.dataDetail});case m.b:var n=e.dataDetail;return n.is_collect=t.is_collect,Object(p.a)(Object(p.a)({},e),{},{dataDetail:n});case m.c:var a=e.dataDetail;return a.is_collect=t.is_collect,Object(p.a)(Object(p.a)({},e),{},{dataDetail:a});case m.d:return Object(p.a)(Object(p.a)({},e),{},{collectListLoading:!1,collectList:t.collectList});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.e:return Object(p.a)(Object(p.a)({},e),{},{loginLoading:t.loginLoading});case b.h:return Object(p.a)(Object(p.a)({},e),{},{userinfoLoading:t.userinfoLoading});case b.f:return Object(p.a)(Object(p.a)({},e),{},{messageListLoading:t.messageListLoading});case b.g:return Object(p.a)(Object(p.a)({},e),{},{loginLoading:!1,token:t.token});case b.a:return Object(p.a)(Object(p.a)({},e),{},{simpleUserInfo:t.data});case b.d:return Object(p.a)(Object(p.a)({},e),{},{userinfoLoading:!1,userInfo:t.data});case b.b:return Object(p.a)(Object(p.a)({},e),{},{messageCount:t.data});case b.c:return Object(p.a)(Object(p.a)({},e),{},{messageListLoading:!1,messageList:t.data});default:return e}}}),O=[f.a],L=d.a.apply(void 0,O);n(110),n(111);var j=n(91),v=n(22),_=n(23),k=n(25),T=n(24),A=(n(113),n(31)),y=n(17),w=n(4),S=n(13),N=n(54),I=function(e){Object(k.a)(n,e);var t=Object(T.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){return window.__POWERED_BY_QIANKUN__?i.a.createElement(y.a,{basename:this.props.basename},this.props.children):i.a.createElement(y.b,{basename:this.props.basename},this.props.children)}}]),n}(c.Component),C=n(27),G=n.n(C),D=(n(97),n(75)),R=function(e){Object(k.a)(n,e);var t=Object(T.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{style:{width:"90vw",height:"80vh"}},i.a.createElement(D.a,{tip:"Loading...",size:"large",style:{width:"90vw",height:"80vh"}},this.props.children))}}]),n}(c.Component),x=[{path:"/",exact:!0,component:G()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(10)]).then(n.bind(null,393))},loading:R})},{path:"/message",component:G()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,394))},loading:R})},{path:"/collect",component:G()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,395))},loading:R})},{path:"/login",component:G()({loader:function(){return Promise.all([n.e(0),n.e(3),n.e(7),n.e(13)]).then(n.bind(null,396))},loading:R})},{path:"/detail",component:G()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(8),n.e(11)]).then(n.bind(null,397))},loading:R})}],U=(n(187),A.a.Header),P=A.a.Content,W=A.a.Footer,Y=function(e){Object(k.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={},n}return Object(_.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){(this.props.user.token||Object(S.b)("token"))&&this.props.getmessagecount({token:this.props.user.token||Object(S.b)("token")})}},{key:"goLoginOut",value:function(){localStorage.clear(),window.history.go(0)}},{key:"render",value:function(){return i.a.createElement(I,{basename:window.__POWERED_BY_QIANKUN__?"/#/react-cnode":"/"},i.a.createElement(A.a,{id:"components-layout-index"},i.a.createElement(U,{style:{width:"100%"}},i.a.createElement("div",{className:"site-header"},i.a.createElement("img",{className:"logo",src:n(194),alt:"logo"}),i.a.createElement("span",{className:"navbar-link navbar-noright-link"},i.a.createElement("span",null,i.a.createElement(y.c,{to:"/"},"\u9996\u9875")),this.props.user.token||Object(S.b)("token")?i.a.createElement(j.a,{dot:!0,count:this.props.user.messageCount},i.a.createElement("span",null,i.a.createElement(y.c,{to:"/message"},"\u6d88\u606f"))):"",this.props.user.token||Object(S.b)("token")?i.a.createElement("span",null,i.a.createElement(y.c,{to:"/collect"},"\u6536\u85cf")):"",i.a.createElement("span",null,i.a.createElement("a",{href:"https://github.com/guoqirong/react-cnode",rel:"noopener noreferrer",target:"_blank"},"GitHub\u4ed3\u5e93")),this.props.user.token||Object(S.b)("token")?i.a.createElement("span",null,i.a.createElement("span",{onClick:this.goLoginOut.bind(this)},"\u9000\u51fa")):i.a.createElement("span",null,i.a.createElement(y.c,{to:"/login"},"\u767b\u5f55"))))),i.a.createElement(P,{className:"site-layout",style:{width:"90%",margin:"10px auto"}},i.a.createElement("div",null,i.a.createElement(w.d,null,x.map((function(e,t){return e.exact?i.a.createElement(w.b,{key:t,exact:!0,path:e.path,render:function(t){return i.a.createElement(e.component,Object.assign({},t,{routes:e.routes}))}}):i.a.createElement(w.b,{key:t,path:e.path,render:function(t){return i.a.createElement(e.component,Object.assign({},t,{routes:e.routes}))}})})),i.a.createElement(w.a,{from:"/*",to:"/"})))),i.a.createElement(W,{style:{textAlign:"center",backgroundColor:"#ffffff",color:"#ababab"}},i.a.createElement("div",null,"CNode \u793e\u533a\u4e3a\u56fd\u5185\u6700\u4e13\u4e1a\u7684 Node.js \u5f00\u6e90\u6280\u672f\u793e\u533a\uff0c\u81f4\u529b\u4e8e Node.js \u7684\u6280\u672f\u7814\u7a76\u3002"),i.a.createElement("div",null,"CNode \u793e\u533a\u7248\u6743\u5f52xxxxxx\u6240\u6709"))))}}]),a}(c.Component),B=Object(l.b)((function(e){return{user:e.user}}),(function(e){return{getmessagecount:function(t){return e(Object(N.b)(t))}}}))(Y);var M=function(){return i.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=Object(d.d)(E,L);function q(e){var t=e.container;s.a.render(i.a.createElement(l.a,{store:K},i.a.createElement(M,null)),t?t.querySelector("#root"):document.querySelector("#root"))}function F(){return H.apply(this,arguments)}function H(){return(H=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[react16] react app bootstraped"),e.next=3,new Promise((function(e){e(!0)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){console.log("[react16] props from main framework",e),q(e)}function $(e){var t=e.container;s.a.unmountComponentAtNode(t?t.querySelector("#root"):document.querySelector("#root"))}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),window.__POWERED_BY_QIANKUN__||q({})},20:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return i})),n.d(t,"j",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g}));var a={IS_PROD:!0};a.BASE_URL=(a.IS_PROD,"https://cnodejs.org"),a.CODE_BASE_PORT="",a.GATEWAY_URL=a.BASE_URL+a.CODE_BASE_PORT;var o=a,r="".concat(o.GATEWAY_URL,"/api/v1/topics"),c="".concat(o.GATEWAY_URL,"/api/v1/topic/"),i="".concat(o.GATEWAY_URL,"/api/v1/topic_collect/collect"),u="".concat(o.GATEWAY_URL,"/api/v1/topic_collect/de_collect"),s="".concat(o.GATEWAY_URL,"/api/v1/topic_collect/"),l="".concat(o.GATEWAY_URL,"/api/v1/user/"),d="".concat(o.GATEWAY_URL,"/api/v1/accesstoken"),f="".concat(o.GATEWAY_URL,"/api/v1/message/count"),p="".concat(o.GATEWAY_URL,"/api/v1/messages"),m="".concat(o.GATEWAY_URL,"/api/v1/message/mark_all"),g="".concat(o.GATEWAY_URL,"/api/v1/message/mark_one/")},5:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a="SETLOGINLOADING",o="SETUSERINFOLOADING",r="SETMESSAGELISTLOADING",c="SETTOKEN",i="ACCESSTOKEN",u="GETUSERINFO",s="GETMESSAGECOUNT",l="GETMESSAGELIST"},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return p}));var a=n(5),o=n(19),r=n(13),c=n(20),i=function(e){return{type:a.e,loginLoading:e}},u=function(e){return function(t){t(i(!0)),Object(o.a)({url:c.a,method:"POST",data:{accesstoken:e.token}}).then((function(n){var o={type:a.a,data:n};n.success&&(Object(r.c)("token",e.token),Object(r.c)("loginname",n.loginname),t(o))})).catch((function(e){t(i(!1)),console.log(e)}))}},s=function(e){return function(t){var n;t((n=!0,{type:a.h,userinfoLoading:n})),Object(o.a)({url:c.k+e.userName,method:"GET"}).then((function(e){var n={type:a.d,data:e.data};t(n)})).catch((function(e){console.log(e)}))}},l=function(e){return function(t){Object(o.a)({url:c.c,method:"GET",params:{accesstoken:e.token}}).then((function(e){var n={type:a.b,data:e.success?e.data:e};t(n)})).catch((function(e){console.log(e)}))}},d=function(e){return function(t){var n;t((n=!0,{type:a.f,messageListLoading:n})),Object(o.a)({url:c.b,method:"GET",params:{accesstoken:e.token,mdrender:!0}}).then((function(e){var n={type:a.c,data:e.data};t(n)})).catch((function(e){console.log(e)}))}},f=function(e){return function(t){Object(o.a)({url:c.e+e.id,method:"POST",data:{accesstoken:e.token}}).then((function(){t(d({token:e.token}))})).catch((function(e){console.log(e)}))}},p=function(e){return function(t){Object(o.a)({url:c.d,method:"POST",data:{accesstoken:e.token}}).then((function(){t(d({token:e.token}))})).catch((function(e){console.log(e)}))}}},99:function(e,t,n){e.exports=n(195)}},[[99,5,6]]])}));