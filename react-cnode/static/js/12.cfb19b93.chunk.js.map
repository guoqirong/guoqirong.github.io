{"version":3,"sources":["assets/images/clientCode.png","components/htmlCode/index.js","view/message/index.js"],"names":["module","exports","HtmlCode","content","str","arr","match","length","i","imgArr","split","img","key","replace","imgContent","this","props","data","style","dangerouslySetInnerHTML","__html","Component","IndexMessage","state","user","token","getLocalStorage","getmessagelist","getuserinfo","userName","loginname","history","push","readallmessage","id","readonemessage","className","width","display","extra","messageList","hasnot_read_messages","type","onClick","readAll","bind","loading","messageListLoading","title","itemLayout","size","locale","emptyText","dataSource","renderItem","item","Item","Meta","avatar","src","author","avatar_url","readOne","description","formatDate","create_at","reply","topic","marginTop","has_read_messages","float","userinfoLoading","shape","userInfo","marginLeft","score","recent_topics","recent_replies","alt","require","textAlign","href","rel","target","connect","index","dispatch"],"mappings":"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","file":"static/js/12.cfb19b93.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass  HtmlCode extends Component  {\r\n  // 图片处理\r\n  imgContent (content) {\r\n    let str = content;\r\n    // 匹配图片（g表示匹配所有结果i表示区分大小写）\r\n    let imgReg = /<img.*?(?:>|\\/>)/gi;\r\n    let arr = str.match(imgReg);\r\n    if (arr && arr.length > 0) {\r\n      for (let i = 0; i < arr.length; i++) {\r\n        let imgArr = arr[i].split(\" \");\r\n        let img = \"\";\r\n        for (let key in imgArr) {\r\n          if (key === \"0\") {\r\n            img = imgArr[key] + \" style=\\\"width: 100%\\\"\";\r\n          } else {\r\n            img = img + \" \" + imgArr[key];\r\n          }\r\n        }\r\n        str = str.replace(arr[i], img);\r\n      }\r\n    }\r\n    return str;\r\n  }\r\n\r\n  render() {\r\n    let imgContent = \"\";\r\n    if (this.props.data) {\r\n      imgContent = this.imgContent(this.props.data);\r\n    }\r\n    return (\r\n      <div style={{\"overflow-wrap\": \"break-word\"}} dangerouslySetInnerHTML={{__html: imgContent}}></div>\r\n    );\r\n  }\r\n}\r\n\r\nHtmlCode.propTypes = {\r\n  data: PropTypes.string\r\n};\r\n\r\nexport default HtmlCode;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Card, List, Avatar, Button } from \"antd\";\r\nimport PropTypes from \"prop-types\";\r\nimport HtmlCode from \"../../components/htmlCode/index\";\r\n\r\nimport { getmessagelist, getuserinfo, readallmessage, readonemessage } from \"../../actions/user/index\";\r\nimport { formatDate, getLocalStorage } from \"../../utils/index\";\r\n\r\nimport \"./index.css\";\r\n\r\nclass IndexMessage extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n    };\r\n  }\r\n\r\n  UNSAFE_componentWillMount ()  {\r\n    // 获取消息列表和用户信息\r\n    if (this.props.user.token || getLocalStorage(\"token\")) {\r\n      this.props.getmessagelist({token: this.props.user.token || getLocalStorage(\"token\")});\r\n      this.props.getuserinfo({userName: this.props.user.loginname || getLocalStorage(\"userName\")});\r\n    } else {\r\n      this.props.history.push(\"/\");\r\n    }\r\n  }\r\n\r\n  // 已读所有消息\r\n  readAll () {\r\n    this.props.readallmessage({token: this.props.user.token || getLocalStorage(\"token\")});\r\n  }\r\n\r\n  // 已读一条消息\r\n  readOne (id) {\r\n    this.props.readonemessage({id: id, token: this.props.user.token || getLocalStorage(\"token\")});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"message-list\">\r\n        <div style={{ width: \"calc(100% - 300px)\", display: \"inline-block\" }}>\r\n          <Card\r\n            style={{ width: \"100%\" }}\r\n            extra={ this.props.user.messageList.hasnot_read_messages && this.props.user.messageList.hasnot_read_messages.length > 0 ? <Button type=\"primary\" onClick={this.readAll.bind(this)} loading={this.props.user.messageListLoading}>全部已读</Button> : \"\" }\r\n            title=\"未读信息\"\r\n          >\r\n            <List\r\n              itemLayout=\"vertical\"\r\n              size=\"small\"\r\n              loading={this.props.user.messageListLoading}\r\n              locale={{ emptyText: \"暂无数据\" }}\r\n              dataSource={this.props.user.messageList.hasnot_read_messages}\r\n              renderItem={item => (\r\n                <List.Item>\r\n                  <List.Item.Meta\r\n                    avatar={\r\n                      <Avatar src={item.author.avatar_url}>{item.author.loginname}</Avatar>\r\n                    }\r\n                    title={\r\n                      <div>\r\n                        <div className=\"message-title\">{item.author.loginname + \"回复了您的话题\"}</div>\r\n                        <Button className=\"message-button\" onClick={this.readOne.bind(this, item.id)} type=\"primary\" loading={this.props.user.messageListLoading}>已读</Button>\r\n                      </div>\r\n                    }\r\n                    description={formatDate(item.create_at, \"yyyy-MM-dd\")}\r\n                  />\r\n                  <HtmlCode data={item.reply.content}></HtmlCode>\r\n                  <div className=\"message-topic-title\">话题：{item.topic.title}</div>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          </Card>\r\n          <Card\r\n            style={{ width: \"100%\", marginTop: \"10px\" }}\r\n            title=\"已读信息\"\r\n          >\r\n            <List\r\n              itemLayout=\"vertical\"\r\n              size=\"small\"\r\n              locale={{ emptyText: \"暂无数据\" }}\r\n              loading={this.props.user.messageListLoading}\r\n              dataSource={this.props.user.messageList.has_read_messages}\r\n              renderItem={item => (\r\n                <List.Item>\r\n                  <List.Item.Meta\r\n                    avatar={\r\n                      <Avatar src={item.author.avatar_url}>{item.author.loginname}</Avatar>\r\n                    }\r\n                    title={item.author.loginname + \"回复了您的话题\"}\r\n                    description={formatDate(item.create_at, \"yyyy-MM-dd\")}\r\n                  />\r\n                  <HtmlCode className=\"reply-content\" data={item.reply.content}></HtmlCode>\r\n                  <div className=\"message-topic-title\">话题：{item.topic.title}</div>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          </Card>\r\n        </div>\r\n        <div className=\"right-list\" style={{ width: 290, float: \"right\", display: \"inline-block\" }}>\r\n          <Card title=\"\" loading={this.props.user.userinfoLoading}>\r\n            <div>\r\n              <Avatar shape=\"square\" size=\"large\" src={this.props.user.userInfo.avatar_url} >{this.props.user.userInfo.loginname}</Avatar>\r\n              <span style={{ marginLeft: \"10px\" }}>{this.props.user.userInfo.loginname}</span>\r\n            </div>\r\n            <div style={{ marginTop: \"10px\" }}>积分：{this.props.user.userInfo.score || \"\"}</div>\r\n          </Card>\r\n          <Card title=\"我的主题\" className=\"my-topics-replies-card\" loading={this.props.user.userinfoLoading} style={{ marginTop: \"10px\" }}>\r\n            <List\r\n              size=\"small\"\r\n              locale={{emptyText: \"暂无数据\"}}\r\n              dataSource={this.props.user.userInfo.recent_topics}\r\n              renderItem={item => <List.Item>{item.title}</List.Item>}\r\n            />\r\n          </Card> \r\n          <Card title=\"我的回复\" className=\"my-topics-replies-card\" loading={this.props.user.userinfoLoading} style={{ marginTop: \"10px\" }}>\r\n            <List\r\n              size=\"small\"\r\n              locale={{emptyText: \"暂无数据\"}}\r\n              dataSource={this.props.user.userInfo.recent_replies}\r\n              renderItem={item => <List.Item>{item.title}</List.Item>}\r\n            />\r\n          </Card>\r\n          <Card title=\"客户端二维码\" style={{ marginTop: \"10px\" }}>\r\n            <img style={{ width: \"100%\" }} alt=\"二维码\" src={require(\"../../assets/images/clientCode.png\")}></img>\r\n            <div style={{ textAlign:\"center\" }}>\r\n              <a href=\"https://github.com/soliury/noder-react-native\" rel=\"noopener noreferrer\" target=\"_blank\">客户端源码地址</a>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// 设置props参数\r\nIndexMessage.propTypes = {\r\n  index: PropTypes.object.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  getmessagelist: PropTypes.func.isRequired,\r\n  getuserinfo: PropTypes.func.isRequired,\r\n  readallmessage: PropTypes.func.isRequired,\r\n  readonemessage: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapState = (state) => ({\r\n  index: state.index,\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n  getmessagelist: (data) => dispatch(getmessagelist(data)),\r\n  getuserinfo: (data) => dispatch(getuserinfo(data)),\r\n  readallmessage: (data) => dispatch(readallmessage(data)),\r\n  readonemessage: (data) => dispatch(readonemessage(data))\r\n});\r\n\r\nexport default connect(mapState, mapDispatch)(IndexMessage);"],"sourceRoot":""}